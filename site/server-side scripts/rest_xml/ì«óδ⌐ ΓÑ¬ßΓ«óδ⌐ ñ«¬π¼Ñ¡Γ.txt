Пример скрипта на php для создания уменьшенных изображений

На вход через строку GET-запроса передаем номер галлереи, имя файла с фотографией и коэффициенты уменьшения по ширине и высоте.
Определяем исходные размеры изображения, уменьшаем их во столько раз, сколько указано в запросе.
Передаем путь к файлу и новые размеры для изображения в сниппет phpthumb.
Выводим полученный путь к сгенерированному файлу (он будет создаваться там же, где и остальные превью сайта).
На стороне клиента остается получить уменьшенное изображение по новому адресу.