<?php
$type = isset($type) ? $type : 'output';
$table = $modx->getFullTableName('site_tmplvar_contentvalues'); 
$insert = false;
$lock = ($lock == '1') ? true : false;
$_SESSION['countViews'] = is_array($_SESSION['countViews']) ? $_SESSION['countViews'] : array();
$countViews = (isset($_SESSION['countViews'][$id]) && $_SESSION['countViews'][$id] === true) ? true : false;
$usertype = isset($_SESSION['usertype']) ? $_SESSION['usertype'] : 'user';

switch($type) {

 case 'output':
 
 $count = $modx->getTemplateVar('countViews', '*', $id);
 echo ($count['value'] == '' ? '0' : $count['value']);
 
 break;
 
 case 'counter':
 
 if($usertype == 'manager' || ($lock && $countViews)) {
 
 break;
 
 } else {
 
 $tvar = $modx->db->select('value', $table, 'tmplvarid ="'.$tvid.'" and contentid="'.$id.'"');
 
 if($modx->db->getRecordCount($tvar) == 0) {
 $insert = true;
 $count = 0;
 } else {
 $row = $modx->db->getRow($tvar);
 $count = $row['value'];
 }
 
 $count++;
 $_SESSION['countViews'][$id] = true;

 $fields = array('value' => $count, 'tmplvarid' => $tvid, 'contentid' => $id); 
 if($insert) {
 $modx->db->insert($fields, $table);
 } else {
 $modx->db->update($fields, $table, 'tmplvarid = "'.$tvid.'" and contentid = "'.$id.'"');
 }
 
 }
 
 break;

}
?>